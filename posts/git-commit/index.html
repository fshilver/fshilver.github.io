<!doctype html><html lang=ko><head>
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1">
<title>[명령어] git commit | 메모장</title>
<meta name=description content="자주 쓰는 git commit 명령어를 알아보자.">
<link rel=canonical href=https://hsyang.net/posts/git-commit/>
<link rel=stylesheet href=/css/bulma.min.css>
<link rel=stylesheet href=https://use.fontawesome.com/releases/v5.7.2/css/all.css integrity=sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr crossorigin=anonymous>
<link rel=stylesheet href=/css/style.css>
<link rel=preconnect href=https://fonts.googleapis.com>
<link rel=preconnect href=https://fonts.gstatic.com crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Nanum+Gothic:wght@400;700;800&family=Noto+Sans+KR:wght@100;300;400;500;700;900&display=swap" rel=stylesheet>
<meta property="og:title" content="[명령어] git commit">
<meta property="og:description" content="자주 쓰는 git commit 명령어를 알아보자.">
<meta property="og:type" content="article">
<meta property="og:url" content="https://hsyang.net/posts/git-commit/"><meta property="article:section" content="posts">
<meta property="article:published_time" content="2020-11-15T23:18:21+09:00">
<meta property="article:modified_time" content="2022-01-24T23:43:17+09:00"><meta property="og:site_name" content="메모장">
<meta name=twitter:card content="summary">
<meta name=twitter:title content="[명령어] git commit">
<meta name=twitter:description content="자주 쓰는 git commit 명령어를 알아보자.">
<script type=application/javascript>var doNotTrack=!1;doNotTrack||(window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga('create','UA-112829438-1','auto'),ga('send','pageview'))</script>
<script async src=https://www.google-analytics.com/analytics.js></script>
<script data-ad-client=ca-pub-7742242963859745 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script>
</head>
<body class=has-navbar-fixed-top><header>
<nav class="navbar is-fixed-top has-shadow" role=navigation>
<div class=navbar-brand>
<a href=/ title=home class=navbar-item>
<span class=logo><h1>메모장</h1></span>
</a>
<a href=https://github.com/fshilver title=Github class="navbar-item is-hidden-desktop">
<span class=icon><i class="fab fa-github"></i></span>
</a>
<a class=navbar-burger role=button data-target=navMenu aria-label=menu aria-expanded=false>
<span aria-hidden=true></span>
<span aria-hidden=true></span>
<span aria-hidden=true></span>
</a>
</div>
<div class=navbar-menu id=navMenu>
<div class=navbar-start>
<a class=navbar-item href=/posts/>포스팅</a>
<a class=navbar-item href=/series/>시리즈</a>
<a class=navbar-item href=/snippets>코드조각</a>
</div>
<div class=navbar-end>
<div class="navbar-item has-dropdown is-hoverable">
<a class=navbar-link>Language</a>
<div class=navbar-dropdown>
<a class=navbar-item rel=alternate href=/en/posts/git-commit/ hreflang=en lang=en>en</a>
</div>
</div>
<a class="navbar-item is-hidden-touch" href=https://github.com/fshilver title=Github>
<span class=icon><i class="fab fa-github"></i></span>
</a>
</div>
</div>
</nav>
</header>
<main>
<div class=container>
<section class=section>
<div class=columns>
<div class="column is-three-quarters">
<article>
<div class="content has-text-centered">
<p class="is-size-5 has-text-weight-medium mb-2">Heesung Yang</p>
<p class="mb-4 has-text-grey-light"><time>November 15, 2020</time></p>
</div>
<h1 class="title is-size-3 has-text-centered">[명령어] git commit</h1>
<div class="content mt-6">
<h2 id=commit-취소>commit 취소</h2>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#75715e># 최종 커밋을 취소. 워킹트리는 보존됨. (커밋은 했으나 push하지 않은 경우 사용)</span>
~$ git reset HEAD^

<span style=color:#75715e># 마지막 2개의 커밋을 취소. 워킹트리는 보존됨.</span>
~$ git reset HEAD~2

<span style=color:#75715e># 마지막 2개의 커밋을 취소. index 및 워킹트리 모두 원복됨.</span>
~$ git reset --hard HEAD~2

<span style=color:#75715e># 머지한 것을 이미 커밋했을 때, 그 커밋을 취소. (잘못된 머지를 이미 커밋한 경우 유용)</span>
~$ git reset --hard ORIG_HEAD

<span style=color:#75715e># HEAD에서 변경한 내역을 취소하는 새로운 커밋 발행(undo commit). (커밋을 이미 push 해버린 경우 유용)</span>
~$ git revert HEAD

<span style=color:#75715e># 마지막 commit 메시지 수정</span>
~$ git commit --amend

<span style=color:#75715e># commit 시 diff 내용 출력</span>
~$ git commit -v

<span style=color:#75715e># commit 합치기</span>
<span style=color:#75715e># 마지막 2개의 commit 을 하나로 합치기 위한 창이 뜸</span>
<span style=color:#75715e>#</span>
<span style=color:#75715e>#   pick 509d675 Add svn-ssl-error-centos</span>
<span style=color:#75715e>#   pick 3312e8c change kor to eng</span>
<span style=color:#75715e>#</span>
<span style=color:#75715e># 두 번째 라인의 `pick` 을 `squash` 로 변경하고 저장하면 commit msg 수정하는 단계로 넘어가고 commit msg 수정 후 저장하면 완료</span>
~$ git rebase -i HEAD~2

<span style=color:#75715e># commit 나누기</span>
<span style=color:#75715e># 마지막 2개의 commit 중 나누고 싶은 commit 을 `edit` 로 변경</span>
<span style=color:#75715e>#</span>
<span style=color:#75715e>#   pick 509d675 Add svn-ssl-error-centos</span>
<span style=color:#75715e>#   edit 3312e8c change kor to eng   &lt;&lt;&lt; edit 로 변경</span>
<span style=color:#75715e>#</span>
<span style=color:#75715e># `git reset HEAD^` 명령어로 unstage 시킴</span>
<span style=color:#75715e># commit 하고 싶은 내용만 골라서 add 후 commit -&gt; commit 1개 생성</span>
<span style=color:#75715e># 위 과정 반복</span>
<span style=color:#75715e># commit 완료 후 `git rebase --continue` 명령어로 종료</span>
~$ git rebase -i HEAD~2
</code></pre></div><h2 id=특정-branch의-commit만-골라서-master-branch에-merge-하기-cherry-pick>특정 branch의 commit만 골라서 master branch에 merge 하기 (Cherry-pick)</h2>
<ul>
<li>new-feature 브랜치의 일부 commit 만 master 에 적용</li>
</ul>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#75715e># checkout to new-feature</span>
~$ git checkout new-feature
~$ git log
f0607f24c104b01b9dd2b603bf3c4aa25f90386a commit meesage <span style=color:#ae81ff>2</span> <span style=color:#75715e># &lt;- merge 하고 싶은 commit</span>
10d84f621e027a59b0c27a255f891aa4c078b06c commit message <span style=color:#ae81ff>1</span>

~$ git checkout master
~$ git cherry-pick f0607f24c104b01b9dd2b603bf3c4aa25f90386a
</code></pre></div><h2 id=commit-작성자-수정>commit 작성자 수정</h2>
<ul>
<li>Reference : <a href=https://makandracards.com/makandra/1717-git-change-author-of-a-commit>https://makandracards.com/makandra/1717-git-change-author-of-a-commit</a></li>
</ul>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#75715e># rebase 모드 진입, 수정하고자 하는 commit의 pick 부분을 edit로 변경</span>
~$ git rebase -i origin/master

<span style=color:#75715e># 매 commit 마다 변경 후 continue. 반복</span>
~$ git commit --amend --author<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;Heesung Yang &lt;someone@example.com&gt;&#34;</span>
~$ git rebase --continue
</code></pre></div><h2 id=commit-변경사항-보기>commit 변경사항 보기</h2>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#75715e># git show &lt;commit id&gt;</span>
~$ git show 07d2fca
</code></pre></div>
</div>
<section class=section>
<div class="columns is-mobile">
<div class="column has-text-left">
<p>Previous post</p>
<a href=/posts/git-tag/>[명령어] git tag</a>
</div>
<div class="column has-text-right">
<p>Next post</p>
<a href=/posts/vim-modeline/>소스코드 내에(텍스트 파일) vim 옵션 설정하기</a>
</div>
</div>
</section>
</article>
</div>
<div class="column is-hidden-touch">
<div class="menu sticky">
<div class="card mb-3">
<div class=card-content>
<h1 class="title is-5">목차</h1>
<nav id=TableOfContents>
<ul>
<li><a href=#commit-취소>commit 취소</a></li>
<li><a href=#특정-branch의-commit만-골라서-master-branch에-merge-하기-cherry-pick>특정 branch의 commit만 골라서 master branch에 merge 하기 (Cherry-pick)</a></li>
<li><a href=#commit-작성자-수정>commit 작성자 수정</a></li>
<li><a href=#commit-변경사항-보기>commit 변경사항 보기</a></li>
</ul>
</nav>
</div>
</div>
</div>
</div>
</div>
</section>
<section class=section>
<div class=columns>
<div class="column is-three-quarters">
<div class="card mb-3">
<div class=card-content>
<h1 class="title is-5">태그</h1>
<div class=tags>
<a class="tag is-dark" href=/tags/aws/>aws</a>
<a class="tag is-dark" href=/tags/bash/>bash</a>
<a class="tag is-dark" href=/tags/c/>c</a>
<a class="tag is-dark" href=/tags/command/>command</a>
<a class="tag is-dark" href=/tags/dicom/>dicom</a>
<a class="tag is-dark" href=/tags/docker/>docker</a>
<a class="tag is-dark" href=/tags/git/>git</a>
<a class="tag is-dark" href=/tags/google_sheets/>google_sheets</a>
<a class="tag is-dark" href=/tags/hugo/>hugo</a>
<a class="tag is-dark" href=/tags/network/>network</a>
<a class="tag is-dark" href=/tags/python/>python</a>
<a class="tag is-dark" href=/tags/shell/>shell</a>
<a class="tag is-dark" href=/tags/vim/>vim</a>
</div>
</div>
</div>
<div class="card mb-3">
<div class=card-content>
<h1 class="title is-5">관련 글</h1>
<h1><a href=https://hsyang.net/posts/rpm/>[명령어] rpm</a></h1>
<time class="has-text-grey-light is-size-7">24 January 2022</time>
<h1><a href=https://hsyang.net/posts/iptables/>[명령어] iptables</a></h1>
<time class="has-text-grey-light is-size-7">10 January 2022</time>
<h1><a href=https://hsyang.net/posts/cli-dcmdump/>[명령어] dcmdump</a></h1>
<time class="has-text-grey-light is-size-7">29 December 2021</time>
<h1><a href=https://hsyang.net/posts/xxd/>[명령어] xxd (파일 hex/binary view)</a></h1>
<time class="has-text-grey-light is-size-7">12 December 2021</time>
<h1><a href=https://hsyang.net/posts/git-branch/>[명령어] git branch</a></h1>
<time class="has-text-grey-light is-size-7">29 November 2021</time>
<h1><a href=https://hsyang.net/posts/tcpdump/>[명령어] tcpdump</a></h1>
<time class="has-text-grey-light is-size-7">23 August 2021</time>
<h1><a href=https://hsyang.net/posts/git-tag/>[명령어] git tag</a></h1>
<time class="has-text-grey-light is-size-7">14 November 2020</time>
</div>
</div>
<div class="card mb-3">
<div class=card-content>
<h1 class="title is-5">최근 글</h1>
<h1><a href=https://hsyang.net/posts/rpm/>[명령어] rpm</a></h1>
<time class="has-text-grey-light is-size-7">24 January 2022</time>
<h1><a href=https://hsyang.net/posts/docker-security-nginx/>Nginx docker container 안전하게 실행하기(security)</a></h1>
<time class="has-text-grey-light is-size-7">18 January 2022</time>
<h1><a href=https://hsyang.net/posts/iptables/>[명령어] iptables</a></h1>
<time class="has-text-grey-light is-size-7">10 January 2022</time>
<h1><a href=https://hsyang.net/posts/cli-dcmdump/>[명령어] dcmdump</a></h1>
<time class="has-text-grey-light is-size-7">29 December 2021</time>
<h1><a href=https://hsyang.net/snippets/django-oauth2/>[Django] Oauth2 구현하기 (google oauth2)</a></h1>
<time class="has-text-grey-light is-size-7">24 December 2021</time>
</div>
</div>
</div>
</div>
</section>
</div>
</main><footer class="footer has-background-grey-darker has-text-white">
<div class=container>
<div class="is-vcentered has-text-centered">
<a href=/about/ class=footer-text>About me</a>
<br><br>
<p> Copyright &copy; 메모장 2022 - Theme by Heesung Yang</a> </p>
</div>
</div>
</footer>
<script>document.addEventListener('DOMContentLoaded',()=>{const a=Array.prototype.slice.call(document.querySelectorAll('.navbar-burger'),0);a.length>0&&a.forEach(a=>{a.addEventListener('click',()=>{const b=a.dataset.target,c=document.getElementById(b);a.classList.toggle('is-active'),c.classList.toggle('is-active')})})})</script>
</body>
</html>